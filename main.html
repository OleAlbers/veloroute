<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset=utf-8 />
  <title><%= htmlWebpackPlugin.options.title %></title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width" />

  <link rel="stylesheet" crossorigin="anonymous" href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:300">

  @require('routes/geo/preload.html')

  <link rel="icon" type="image/png" size="16x16" href="/favicons/favicon-16.png">
  <link rel="icon" type="image/png" size="32x32" href="/favicons/favicon-32.png">
  <link rel="icon" type="image/png" size="48x48" href="/favicons/favicon-48.png">
  <link rel="icon" type="image/png" size="192x192" href="/favicons/favicon-192.png">
  <link rel="apple-touch-icon" href="/favicons/favicon-57.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/favicons/favicon-152.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/favicons/favicon-167.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicons/favicon-180.png">
  <link rel="apple-touch-startup-image" href="/favicons/favicon-192.png">
  <link rel="manifest" href="/favicons/manifest.json">
  <!-- uncached connections happen, even on repeat view -->
  <link rel="preconnect" href="https://a.mapillary.com">
  <!-- connections only happen on initial load, but not on repeat view -->
  <link rel="dns-prefetch" href="https://api.mapbox.com">
  <link rel="dns-prefetch" href="https://a.tiles.mapbox.com">
  <link rel="dns-prefetch" href="https://b.tiles.mapbox.com">
</head>

<body class="page-<%= htmlWebpackPlugin.options.filename.replace(".html", "").replace(/\/.*$/, '') %>">
  <div id="main">
    <div id="map"></div>
  </div>
  <div id="sidebar">
    <a id="header" href="/">
      <h2>veloroute.hamburg</h2>
    </a>

    <div id="routes">
      <div id="outdated-browser">
        <h3>Veralteter Browser</h3>
        <p>
          Dieser Browser ist alt und nicht mehr ganz so schnell. Die Seite sollte funktionieren, aber braucht vermutlich ein bisschen länger zum Laden. Von daher: Geduld bitte!
        </p>
      </div>

      <div id="descindex" class="desc">
        <h3>Einleitung</h3>
        <ul>
          <li>
            <span class="only-mobile"><a href="/#map">Klicke auf eine Route um anzufangen</a></span>
            <span class="not-mobile">Klicke auf eine Route um anzufangen</span>
          </li>
          <li>Mach Dich mit der Route vertraut</li>
          <li>Fahr Rad!</li>
        </ul>

        <h3>Helfen</h3>
        <ul>
          <li>Melde (abgeschlossene) Umbauten</li>
          <li>Mach aktuelle Bilder mit <a href="https://help.mapillary.com/hc/en-us/categories/115000363489-Getting-started">Mapillary</a> und sag Bescheid. Siehe auch: <a href="https://www.komoot.de/user/100869689884/tours?sport=all&type=planned&order=date&descending=true&search=Fehlst%C3%BCck">Bekannte Fehlstellen</a>.</li>
          <li>Verbessere die <a href="https://learnosm.org/de/beginner/">OpenStreetMap</a></li>
        </ul>

        <h3>Kontakt</h3>
        <p>Fehler? Wünsche? Alte Bilder? Schreib mir:<br/><a href="mailto:stefan-veloroute@breunig.xyz">stefan-veloroute@breunig.xyz</a></p>

        <h3>Weitere Funktionen</h3>
        <ul>
          <li><a href="/routes/geo/routen.zip" download>alle Routen als GPX herunterladen</a></li>
          <li><a href="/quality">Radwegqualität anzeigen</a></li>
        </ul>

        <h3>Hintergrund</h3>
        <p>Hamburg baut aktuell die Radwege aus, <a href="https://www.hamburg.de/radverkehr/300372/velorouten/">stellt aber nur grobe Infos bereit</a>. Da die Schilder noch fehlen, ist dies gerade an Kreuzungen schwierig. Diese Seite ist ein Versuch neuen Radlern in Hamburg einen Einstieg zu bieten.</p>

        <p>Nebenbei kann auch der Ausbaustatus der Velorouten beurteilt werden. Beachte, das die Einschätzung automatisch erfolgt und ggf. falsch ist.</p>

        <p>Die Daten werden in der OpenStreetMap gepflegt, d.h. auch die meisten „Outdoor Navis“ sollten die Velorouten kennen. Der <a href="https://github.com/breunigs/veloroute">Quelltext liegt auf GitHub</a>.</p>
      </div>

      @require('routes/geo/path_render.html')

      <div id="descquality" class="desc">
        <h3>Qualität</h3>
        <h4>Problemstellen</h4>
        <p>Problemstellen werden durch Marker in der Karte angezeigt. Klicke auf eine um Details anzuzeigen. Hervorgehoben werden meist Kreuzungen, da sich diese nur schlecht in der Karte abbilden lassen.</p>

        <h4>Streckenbewertung</h4>
        <p>Die Streckenbewertung erfolgt mittels einer Heuristik. Bitte <a href="mailto:stefan-veloroute@breunig.xyz">melde</a> Stellen falsch eingeschätzt wurden. Beachtet wird:</p>
        <ul>
          <li>Oberfläche (etwa: Asphalt besser als Kopfsteinpflaster)</li>
          <li>Breite nach <a href="http://www.hamburg.de/contentblob/2695554/42d1b5cf759fa2fe2b3ffc621538b6e1/data/vorabinformation-zur-plast9-fortschreibung.pdf">PLAST 9 (2010)</a></li>
          <li>fehlende Beleuchtung</li>
          <li>getrennte Führung bei hohen KFZ-Geschwindigkeiten</li>
        </ul>

        <h4>Bewertungsstufen</h4>
        <p>
          Die Bewertung geht von „gut“ <span class="shortcoming grade1"></span>, über „okay“ <span class="shortcoming grade3"></span> zu „schlecht“ <span class="shortcoming grade5"></span>. Unterscheiden sich Hin- und Rückrichtung kann auch eine Zwischenstufe vorkommen. Findet sich zu einem Merkmal keine Angabe, dann fehlt es bereits in der OpenStreetMap.
          <a class="vision-colorblind">Auf kontraststarkes Farbschema umschalten?</a>
          <a class="vision-normal">Auf Ampel Farbschema umschalten?</a>
        </p>

        <h4 id="qualityheader">Details</h4>
        <div id="quality">
          <% if(htmlWebpackPlugin.options.qualityDesc) { %>
            <%= htmlWebpackPlugin.options.qualityDesc %>
            <% title = htmlWebpackPlugin.options.title.split(" – "); %>
            <script type="application/ld+json">
              {
                "@context": "http://schema.org",
                "@type": "BreadcrumbList",
                "itemListElement": [{
                  "@type": "ListItem",
                  "position": 1,
                  "item": {
                    "@id": "https://veloroute.hamburg",
                    "name": "<%= title[0] %>"
                  }
                },{
                  "@type": "ListItem",
                  "position": 2,
                  "item": {
                    "@id": "https://veloroute.hamburg/quality",
                    "name": "<%= title[1] %>"
                  }
                },{
                  "@type": "ListItem",
                  "position": 3,
                  "item": {
                    "@id": "https://veloroute.hamburg/<%=htmlWebpackPlugin.options.filename.replace(".html", "")%>",
                    "name": "<%= title[2] %>",
                    "image": "<%=htmlWebpackPlugin.options.imagePath%>"
                  }
                }]
              }
            </script>
          <% } else { %>
            <p>Bitte wähle zuerst einen Weg/Marker aus.</p>
          <% } %>
        </div>

        <a href="/">zurück zur normalen Ansicht</a></li>
      </div>

      <small id="impressum">
        <a href="https://blog.breunig.xyz/impressum.html" rel="nofollow">Impressum</a>
      </small>
    </div>

    <div id="controls" class="hidden">
      <a id="swap" title="Bild / Karte vergrößern">⇱</a>
      <a id="playstop" title="Abspielen / Pause">▶</a>
      <input type="range" min="0" max="0" id="slider" title="Aktuelle Position auf der Route">
      <a id="prev" title="Vorheriges Bild">〈</a>
      <a id="next" title="Nächstes Bild">〉</a>
      <a id="direction" title="Fahrtrichtung ändern">⇆</a>
    </div>

    <div id="side">
      <div id="mly" class="mapillary"></div>
    </div>
  </div>
</body>

</html>
