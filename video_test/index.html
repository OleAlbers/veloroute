<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>MediaElement.js - HTML5 video and audio unification framework</title>

        <link rel="stylesheet" href="mediaelementplayer.min.css" />
        <link rel="stylesheet" href="quality.min.css" />
        <link rel="stylesheet" href="speed.min.css" />
    </head>



<div class="player" style="visibility: hidden;">
  <video muted controls playsinline webkit-playsinline preload="none" id="player1" width="960" height="540">
    <source type="application/x-mpegURL" src="/data/videos/rendered/0a62077b5e17ddd0fce718fba3805c64/stream.m3u8" data-quality="auto"/>
  </video>
</div>

<script src="mediaelement-and-player.min.js"></script>
<!-- <script src="quality.min.js"></script> -->
<script src="speed.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
  var mediaElements = document.querySelectorAll('video, audio'), total = mediaElements.length;

  for (var i = 0; i < total; i++) {
    new MediaElementPlayer(mediaElements[i], {
      pluginPath: './',
      shimScriptAccess: 'always',
      features: ['playpause', 'current', 'progress', 'duration', 'quality', 'speed', 'fullscreen'],
      hls: { debug: false },
      // speed
      defaultSpeed: 0.5,
      // quality
      autoGenerate: true,
      autoHLS: true,
      qualityText: "Quality",
      success: function(mediaElement, originalNode) {
        var target = document.body.querySelectorAll('.player'), targetTotal = target.length;
        for (var j = 0; j < targetTotal; j++) {
          target[j].style.visibility = 'visible';
        }

        console.log("yay");
      }
    });
  }
});
</script>
